{
  "enabled": true,
  "name": "Test Docker Image Build",
  "description": "Automatically test Docker image builds using the docker-compose.yml file when it changes to validate container configurations and build processes",
  "version": "1",
  "when": {
    "type": "userTriggered",
    "patterns": [
      "docker-compose.yml"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "The docker-compose.yml file has been modified. Please test the Docker image build process by running `docker-compose build --parallel` to ensure all services can build successfully. Check for any build errors, dependency issues, or configuration problems. If builds fail, analyze the error messages and suggest fixes for the affected services. Also verify that all required environment variables are properly configured and that the service dependencies are correctly defined."
  }
}